/*
 * JSFace Object Oriented Programming Library.
 * Copyright (c) Tan Nhu, http://lnkd.in/tnhu
 */
!function(a,b,c,d,e,f,g,h,i,j){function k(a){return a&&typeof a===b&&!(typeof a.length===c&&!a.propertyIsEnumerable(d))&&a||null}function l(a){return a&&typeof a===b&&typeof a.length===c&&!a.propertyIsEnumerable(d)&&a||null}function m(a){return a&&"function"==typeof a&&a||null}function n(a){return m(a)&&a.prototype&&a===a.prototype.constructor&&a||null}function o(a,b,c,d){c&&c.hasOwnProperty(a)||(d[a]=b)}function p(a,b,c){if(l(b))for(var d=b.length;--d>=0;)p(a,b[d],c);else{c=c||{constructor:1,$super:1,prototype:1,$superp:1};var e,f,g=n(a),h=n(b),i=a.prototype;if(k(b)||g)for(e in b)o(e,b[e],c,a,g,i);if(h){f=b.prototype;for(e in f)o(e,f[e],c,a,g,i)}g&&h&&p(i,b.prototype,c)}}function q(a,b){b||(b=a,a=0);var c,d,e,f,g,h,i,j,k,l,m,n=0,o={constructor:1,$singleton:1,$static:1,$statics:1,prototype:1,$super:1,$superp:1,main:1,toString:0},p=q.plugins;b=("function"==typeof b?b():b)||{},d=b.hasOwnProperty("constructor")?b.constructor:0,e=b.$singleton,f=b.$statics||b.$static;for(g in p)o[g]=1;for(c=e?function(){}:d?d:function(){},a=!a||a instanceof Array?a:[a],i=a&&a.length,k=a[0],!e&&i&&(l=k.prototype&&k===k.prototype.constructor&&k,l?(m=function(){},m.prototype=l.prototype,m.prototype.constructor=m,c.prototype=new m,c.prototype.constructor=c,l.prototype.constructor=l):c.prototype=k),h=e?c:c.prototype;i>n;){j=a[n++];for(g in j)o[g]||(c[g]=j[g]);if(!e&&0!==n)for(g in j.prototype)o[g]||(h[g]=j.prototype[g])}for(g in b)if(!o[g]){var r=b[g];r&&(r.get||r.set)?Object.defineProperty(h,g,r):h[g]=r}for(g in f)c[g]=f[g];j=a&&k||a,c.$super=j,c.$superp=j&&j.prototype||j;for(g in p)p[g](c,a,b);return"function"==typeof b.main&&b.main.call(c,c),c}q.plugins={$ready:function r(a,b,c,d){for(var e,h,i,j=c.$ready,k=b?b.length:0,l=k,n=k&&b[0].$super;k--;)for(h=0;g>h&&(i=f[h],e=b[k],e===i[0]&&(i[1].call(e,a,b,c),l--),l);h++);n&&r(a,[n],c,!0),!d&&m(j)&&(j.call(a,a,b,c),f.push([a,j]),g++)}},j={Class:q,extend:p,mapOrNil:k,arrayOrNil:l,functionOrNil:m,classOrNil:n},"undefined"!=typeof module&&module.exports?module.exports=j:(i=a.Class,a.Class=q,a.jsface=j,j.noConflict=function(){a.Class=i})}(this,"object","number","length",Object.prototype.toString,[],0);