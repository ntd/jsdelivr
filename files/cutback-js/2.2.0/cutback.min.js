!function(window,undefined){var defaultConfig={},Banner=function(a){initialization(a)},initialization=function(a){setDefaults(a),1==defaultConfig.doubleClickTraking?doubleClickEvents.initializer():(eventsLibrary.addListener(),motionLibrary.checkTabStatus(),motionLibrary.executeAnimations())},setDefaults=function(a){defaultConfig.type=a.type,defaultConfig.expand=a.expand||!1,defaultConfig.doubleClickTraking=a.doubleClickTraking||!0,defaultConfig.finalExpandSize=a.finalExpandSize||[0,0,0,0],defaultConfig.startExpanded=a.startExpanded||!1,defaultConfig.elementsToRegister=a.elementsToRegister||[],defaultConfig.animations=a.animations||[],defaultConfig.customFunctions=a.customFunctions||{},defaultConfig.hotspotClose=a.hotspotClose||[],defaultConfig.hotspotExpand=a.hotspotExpand||[]},eventsLibrary={addListener:function(){for(var customFunctionsRoot=defaultConfig.customFunctions,i=0;i<defaultConfig.elementsToRegister.length;i++){var elementToAdd=document.querySelector(defaultConfig.elementsToRegister[i].element),functionToDO=defaultConfig.elementsToRegister[i].functionToCall,functionEval=eval("customFunctionsRoot."+functionToDO);elementToAdd.addEventListener(defaultConfig.elementsToRegister[i].eventType,functionEval,!1)}if(1==defaultConfig.expand&&"in-app"!=defaultConfig.type){if(0!=defaultConfig.hotspotExpand.length){var eventType=defaultConfig.hotspotExpand[1]||"click";document.querySelector(defaultConfig.hotspotExpand[0]).addEventListener(eventType,motionLibrary.expandEvent,!1)}else alert("Please add the hotspotExpand");if(0!=defaultConfig.hotspotClose.length){var eventType=defaultConfig.hotspotExpand[1]||"click";document.querySelector(defaultConfig.hotspotClose[0]).addEventListener(eventType,motionLibrary.collapseEvent,!1)}else alert("Please add the hotspotClose")}}},motionLibrary={checkTabStatus:function(){function f(){e()?setTimeout(function(){TweenLite.ticker.useRAF(!0)},300):TweenLite.ticker.useRAF(!1)}setInterval(f,300);var b,c,d={hidden:"visibilitychange",webkitHidden:"webkitvisibilitychange",mozHidden:"mozvisibilitychange",msHidden:"msvisibilitychange"},e=function(){for(b in d)if(b in document){c=d[b];break}return function(a){return a&&document.addEventListener(c,a),!document[b]}}()},resetWhenCloseOrExit:function(){TweenMax.set("div",{clearProps:"all"}),TweenMax.set("span",{clearProps:"all"}),TweenMax.set("p",{clearProps:"all"}),TweenMax.set("h1",{clearProps:"all"}),TweenMax.set("h2",{clearProps:"all"}),TweenMax.set("h3",{clearProps:"all"}),TweenMax.set("h4",{clearProps:"all"}),TweenMax.set("a",{clearProps:"all"}),TweenMax.set("input",{clearProps:"all"}),TweenMax.set("canvas",{clearProps:"all"}),TweenMax.killAll(),motionLibrary.executeAnimations()},executeAnimations:function(){eval(defaultConfig.animations.firstFrame())},collapseEvent:function(){Enabler.requestCollapse()},expandEvent:function(){Enabler.requestExpand()}},doubleClickEvents={initializer:function(){Enabler.isInitialized()||Enabler.addEventListener(studio.events.StudioEvent.INIT,doubleClickEvents.functionsWhenInit),Enabler.isPageLoaded()||Enabler.addEventListener(studio.events.StudioEvent.PAGE_LOADED,doubleClickEvents.functionsWhenPageLoaded),1==defaultConfig.expand&&("in-app"!=defaultConfig.type&&(0==defaultConfig.finalExpandSize[0]&&0==defaultConfig.finalExpandSize[1]&&0==defaultConfig.finalExpandSize[2]||0==defaultConfig.finalExpandSize[3]?alert("Please add final expand size banner"):Enabler.setExpandingPixelOffsets(defaultConfig.finalExpandSize[0],defaultConfig.finalExpandSize[1],defaultConfig.finalExpandSize[2],defaultConfig.finalExpandSize[3],!1,!1)),Enabler.setStartExpanded(defaultConfig.startExpanded),Enabler.addEventListener(studio.events.StudioEvent.EXPAND_START,function(){defaultConfig.animations.expandStartAnimation&&eval(defaultConfig.animations.expandStartAnimation()),Enabler.finishExpand()}),Enabler.addEventListener(studio.events.StudioEvent.EXPAND_FINISH,function(){defaultConfig.animations.expandFinishAnimation&&eval(defaultConfig.animations.expandFinishAnimation())}),Enabler.addEventListener(studio.events.StudioEvent.COLLAPSE_START,function(){defaultConfig.animations.collapseStartAnimation&&eval(defaultConfig.animations.collapseStartAnimation()),Enabler.finishCollapse()}),Enabler.addEventListener(studio.events.StudioEvent.COLLAPSE_FINISH,function(){defaultConfig.animations.collapseFinishAnimation&&eval(defaultConfig.animations.collapseFinishAnimation())}),document.getElementsByTagName("body")[0].className=Enabler.getOrientation().getMode(),Enabler.addEventListener(studio.events.StudioEvent.ORIENTATION,function(){document.getElementsByTagName("body")[0].className=Enabler.getOrientation().getMode()}))},functionsWhenInit:function(){eventsLibrary.addListener()},functionsWhenPageLoaded:function(){Enabler.isVisible()?motionLibrary.executeAnimations():Enabler.addEventListener(studio.events.StudioEvent.VISIBLE,function(){motionLibrary.executeAnimations()}),motionLibrary.checkTabStatus()}};window.Banner=Banner,window.motionLibrary=motionLibrary}(window);