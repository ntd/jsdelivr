!function(a){var c=function(){var c=this;a.addEventListener("load",function(){c.initializeStats()},!1)};c.prototype={initializeStats:function(){this.buildStats(),this.addVariables(),this.addHoverEffects(),this.setTimeline()},setTimeline:function(){this.timelinesArray=banner.timelinesArray,this.currentTimeline=this.timelinesArray[0],this.registerElementsAndFunctions(),this.fillTimelinesSelect()},buildStats:function(){var a=document.getElementsByClassName("banner")[0],b=document.createElement("div");b.id="stats",b.style.width="300px",b.style.height="130px",b.style.backgroundColor="#ccc",b.style.position="fixed",b.style.bottom=0,b.style.right=0,b.style.opacity=.5,b.style.borderRadius="10px",a.parentNode.insertBefore(b,a.nextSibling),b.onmouseover=function(){this.style.opacity=1},b.onmouseout=function(){this.style.opacity=.5},b.innerHTML="<p id='currenttime' style='font-family:Arial,sans-serif;color:#666;font-size:30px;position:absolute;bottom:85px;left:14px;opacity:0.5;'>00.00</p><p id='totaltime' style='font-family:Arial,sans-serif;color:#666;font-size:20px;position:absolute;bottom:88px;left:101px;opacity:0.5;'>00.00</p><input id='slider-timeline' type='range' min='0' step='0.01' max='274' value='0' style='position:absolute;bottom:60px;width:274px;left:10px;'/><select id='flags' style='position:absolute;bottom:20px;right:14px;width:120px;'></select><select id='timelines' style='position:absolute;bottom:90px;right:14px;width:120px;'></select><span id='play' style='font-family:Arial,sans-serif;color:#fff;font-size:16px;position:absolute;bottom:10px;left:14px;cursor:pointer;background-color:#999;padding:10px 8px;-webkit-border-radius:10px;-moz-border-radius:10px;border-radius:10px;width:46px;text-align:center'>Play</span><span id='restart' style='font-family:Arial,sans-serif;color:#fff;font-size:16px;position:absolute;bottom:10px;left:84px;cursor:pointer;background-color: #999;padding:10px 8px;-webkit-border-radius:10px;-moz-border-radius:10px;border-radius:10px;'>Restart</span>"},addVariables:function(){statDiv=document.getElementById("stats"),playButton=document.getElementById("play"),restartButton=document.getElementById("restart"),sliderTimeline=document.getElementById("slider-timeline"),selectTimeline=document.getElementById("flags"),selectTimelines=document.getElementById("timelines"),totalTimeTimeline=document.getElementById("totaltime"),currenttimeTimeline=document.getElementById("currenttime")},addHoverEffects:function(){playButton.onmouseover=function(){this.style.backgroundColor="#666666"},playButton.onmouseout=function(){this.style.backgroundColor="#999999"},restartButton.onmouseover=function(){this.style.backgroundColor="#666666"},restartButton.onmouseout=function(){this.style.backgroundColor="#999999"}},registerElementsAndFunctions:function(){function c(b){b.target!=sliderTimeline&&(initX=this.offsetLeft,initY=this.offsetTop,mousePressX=event.clientX,mousePressY=event.clientY,this.addEventListener("mousemove",d,!1),a.addEventListener("mouseup",function(){statDiv.removeEventListener("mousemove",d,!1),statDiv.style.cursor="default"},!1))}function d(a){statDiv.style.cursor="move",this.style.left=initX+a.clientX-mousePressX+"px",this.style.top=initY+a.clientY-mousePressY+"px"}function e(){1==b.currentTimeline.paused()?(b.currentTimeline.totalDuration()==b.currentTimeline.time()?b.currentTimeline.restart():b.currentTimeline.play(),playButton.innerHTML="Pause"):(b.currentTimeline.pause(),playButton.innerHTML="Play")}function f(){b.currentTimeline.restart()}function g(){b.currentTimeline.seek(flags.options[flags.selectedIndex].text).play()}function h(){b.currentTimeline.seek(this.value),currenttimeTimeline.innerHTML=b.currentTimeline.time().toFixed(2)}function i(){b.currentTimeline.seek(0),b.currentTimeline=banner.timelinesArray[selectTimelines.options[selectTimelines.selectedIndex].value],sliderTimeline.value=0,b.updateTimeline()}var b=this;statDiv.addEventListener("mousedown",c),playButton.addEventListener("click",e),restartButton.addEventListener("click",f),flags.addEventListener("change",g),selectTimelines.addEventListener("change",i),sliderTimeline.addEventListener("mousemove",h),sliderTimeline.addEventListener("change",h)},fillTimelinesSelect:function(){for(var a,b=0;b<this.timelinesArray.length;b++)a+='<option value="'+b+'">'+banner.timelinesName[b]+"</option>",banner.timelinesArray[b].eventCallback("onStart",this.updateCurrentTimeline);selectTimelines.innerHTML=a,bannerStats.updateTimeline()},updateTimeline:function(){for(var b,a=this.currentTimeline.getLabelsArray(),c=0;c<a.length;c++)b+='<option value="'+a[c].time+'">'+a[c].name+"</option>";flags.innerHTML=b,currenttimeTimeline.innerHTML=this.currentTimeline.time().toFixed(2),totalTimeTimeline.innerHTML=this.currentTimeline.totalDuration().toFixed(2),sliderTimeline.max=this.currentTimeline.totalDuration().toFixed(2),this.currentTimeline.eventCallback("onUpdate",this.updateCurrentTime),this.currentTimeline.eventCallback("onComplete",this.updateCompleted)},updateCurrentTime:function(){currenttimeTimeline.innerHTML=this.time().toFixed(2),sliderTimeline.value=this.time().toFixed(2),playButton.innerHTML="Pause"},updateCurrentTimeline:function(){currentTimeline=this,selectTimelines.options[banner.timelinesArray.indexOf(this)].selected=!0,bannerStats.updateTimeline()},updateCompleted:function(){playButton.innerHTML="Play",this.pause()}},a.stats=c}(window);var bannerStats=new stats;