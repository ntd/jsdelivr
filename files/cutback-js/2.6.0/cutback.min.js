!function(window,undefined){var defaultConfig={},Banner=function(a){initialization(a)},initialization=function(a){setDefaults(a),1==defaultConfig.doubleClickTraking?(doubleClickEvents.initializer(),motionLibrary.registerTimelines()):(eventsLibrary.addListener(),motionLibrary.checkTabStatus(),motionLibrary.registerTimelines(),motionLibrary.executeAnimations())},setDefaults=function(a){defaultConfig.type=a.type,defaultConfig.expand=a.expand||!1,defaultConfig.doubleClickTraking=a.doubleClickTraking||!0,defaultConfig.finalExpandSize=a.finalExpandSize||[0,0,0,0],defaultConfig.startExpanded=a.startExpanded||!1,defaultConfig.elementsToRegister=a.elementsToRegister||[],defaultConfig.timelines=a.timelines||[],defaultConfig.timelinesAnimation=a.timelinesAnimation||{},defaultConfig.animations=a.animations||[],defaultConfig.customFunctions=a.customFunctions||{},defaultConfig.hotspotClose=a.hotspotClose||[],defaultConfig.hotspotExpand=a.hotspotExpand||[]},eventsLibrary={addListener:function(){for(var customFunctionsRoot=defaultConfig.customFunctions,i=0;i<defaultConfig.elementsToRegister.length;i++){var elementToAdd=document.querySelector(defaultConfig.elementsToRegister[i].element),functionToDO=defaultConfig.elementsToRegister[i].functionToCall,functionEval=eval("customFunctionsRoot."+functionToDO);elementToAdd.addEventListener(defaultConfig.elementsToRegister[i].eventType,functionEval,!1)}if(1==defaultConfig.expand){if(0!=defaultConfig.hotspotExpand.length){var eventType=defaultConfig.hotspotExpand[1]||"click";document.querySelector(defaultConfig.hotspotExpand[0]).addEventListener(eventType,motionLibrary.expandEvent,!1)}else alert("Please add the hotspotExpand");if("in-app"!=defaultConfig.type)if(0!=defaultConfig.hotspotClose.length){var eventType=defaultConfig.hotspotExpand[1]||"click";document.querySelector(defaultConfig.hotspotClose[0]).addEventListener(eventType,motionLibrary.collapseEvent,!1)}else alert("Please add the hotspotClose")}}},motionLibrary={checkTabStatus:function(){function f(){e()?setTimeout(function(){TweenLite.ticker.useRAF(!0)},300):TweenLite.ticker.useRAF(!1)}setInterval(f,300);var b,c,d={hidden:"visibilitychange",webkitHidden:"webkitvisibilitychange",mozHidden:"mozvisibilitychange",msHidden:"msvisibilitychange"},e=function(){for(b in d)if(b in document){c=d[b];break}return function(a){return a&&document.addEventListener(c,a),!document[b]}}()},resetWhenCloseOrExit:function(){TweenMax.set(".banner > div",{clearProps:"all"}),TweenMax.set(".banner > span",{clearProps:"all"}),TweenMax.set(".banner > p",{clearProps:"all"}),TweenMax.set(".banner > h1",{clearProps:"all"}),TweenMax.set(".banner > h2",{clearProps:"all"}),TweenMax.set(".banner > h3",{clearProps:"all"}),TweenMax.set(".banner > h4",{clearProps:"all"}),TweenMax.set(".banner > a",{clearProps:"all"}),TweenMax.set(".banner > input",{clearProps:"all"}),TweenMax.set(".banner > canvas",{clearProps:"all"});for(var a=0;a<timelinesArray.length;a++)timelinesArray[a].seek(0).pause();motionLibrary.executeAnimations()},executeAnimations:function(){eval(defaultConfig.animations.firstFrame())},collapseEvent:function(){Enabler.reportManualClose(),Enabler.requestCollapse()},expandEvent:function(){Enabler.requestExpand()},registerTimelines:function(){timelinesArray=[],timelinesNameArray=[];for(var i=0;i<defaultConfig.timelines.length;i++)eval(defaultConfig.timelines[i]+"= new TimelineMax()"),timelinesNameArray.push(defaultConfig.timelines[i]),timelinesArray.push(eval(defaultConfig.timelines[i]));defaultConfig.timelinesAnimation.register();for(var i=0;i<defaultConfig.timelines.length;i++)timelinesArray[i].pause()}},doubleClickEvents={initializer:function(){Enabler.isInitialized()||Enabler.addEventListener(studio.events.StudioEvent.INIT,doubleClickEvents.functionsWhenInit),Enabler.isPageLoaded()||Enabler.addEventListener(studio.events.StudioEvent.PAGE_LOADED,doubleClickEvents.functionsWhenPageLoaded),1==defaultConfig.expand&&("in-app"!=defaultConfig.type&&(0==defaultConfig.finalExpandSize[0]&&0==defaultConfig.finalExpandSize[1]&&0==defaultConfig.finalExpandSize[2]||0==defaultConfig.finalExpandSize[3]?alert("Please add final expand size banner"):Enabler.setExpandingPixelOffsets(defaultConfig.finalExpandSize[0],defaultConfig.finalExpandSize[1],defaultConfig.finalExpandSize[2],defaultConfig.finalExpandSize[3],!1,!1)),Enabler.setStartExpanded(defaultConfig.startExpanded),Enabler.addEventListener(studio.events.StudioEvent.EXPAND_START,function(){defaultConfig.animations.expandStartAnimation&&eval(defaultConfig.animations.expandStartAnimation()),Enabler.finishExpand()}),Enabler.addEventListener(studio.events.StudioEvent.EXPAND_FINISH,function(){defaultConfig.animations.expandFinishAnimation&&eval(defaultConfig.animations.expandFinishAnimation())}),Enabler.addEventListener(studio.events.StudioEvent.COLLAPSE_START,function(){defaultConfig.animations.collapseStartAnimation&&eval(defaultConfig.animations.collapseStartAnimation()),Enabler.finishCollapse()}),Enabler.addEventListener(studio.events.StudioEvent.COLLAPSE_FINISH,function(){defaultConfig.animations.collapseFinishAnimation&&eval(defaultConfig.animations.collapseFinishAnimation())}),document.getElementsByTagName("body")[0].className=Enabler.getOrientation().getMode(),Enabler.addEventListener(studio.events.StudioEvent.ORIENTATION,function(){document.getElementsByTagName("body")[0].className=Enabler.getOrientation().getMode()}))},functionsWhenInit:function(){eventsLibrary.addListener()},functionsWhenPageLoaded:function(){Enabler.isVisible()?motionLibrary.executeAnimations():Enabler.addEventListener(studio.events.StudioEvent.VISIBLE,function(){motionLibrary.executeAnimations()}),motionLibrary.checkTabStatus()}};window.Banner=Banner,window.motionLibrary=motionLibrary}(window);