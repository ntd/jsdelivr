!function(window,undefined){var Banner=function(a){var b=this;window.addEventListener("load",function(){b.initializeBanner(a)},!1)};Banner.prototype={setConfig:function(a){this.bannerType=a.bannerType||"in-page",this.expand=a.expand||!1,this.doubleClickTraking=a.doubleClickTraking||!0,this.finalExpandSize=a.finalExpandSize||[0,0,0,0],this.startExpanded=a.startExpanded||!1,this.initialized=!0,this.elementsToRegister=a.elementsToRegister||[],this.hotspotClose=a.hotspotClose||[],this.hotspotExpand=a.hotspotExpand||[],this.timelinesName=a.timelinesName||[],this.timelinesToregister=a.timelinesToregister||{},this.timelinesArray=[],this.animationFrames=a.animationFrames||{}},initializeBanner:function(a){this.initialized?console.log("Already initialized"):(this.setConfig(a),1==this.doubleClickTraking?(this.initializeDoubleClick(),this.registerTimelines()):(this.addListeners(),this.registerTimelines(),this.executeAnimations()))},initializeDoubleClick:function(){var that=this;Enabler.isInitialized()||Enabler.addEventListener(studio.events.StudioEvent.INIT,function(){that.functionsWhenInit(that)}),Enabler.isPageLoaded()||Enabler.addEventListener(studio.events.StudioEvent.PAGE_LOADED,function(){that.functionsWhenPageLoaded(that)}),1==this.expand&&("in-app"!=this.bannerType&&(0==this.finalExpandSize[0]&&0==this.finalExpandSize[1]&&0==this.finalExpandSize[2]||0==this.finalExpandSize[3]?alert("Please add final expand size banner"):Enabler.setExpandingPixelOffsets(this.finalExpandSize[0],this.finalExpandSize[1],this.finalExpandSize[2],this.finalExpandSize[3],!1,!1)),Enabler.setStartExpanded(this.startExpanded),Enabler.addEventListener(studio.events.StudioEvent.EXPAND_START,function(){this.animationFrames.expandStartAnimation&&eval(this.animationFrames.expandStartAnimation()),Enabler.finishExpand()}),Enabler.addEventListener(studio.events.StudioEvent.EXPAND_FINISH,function(){this.animationFrames.expandFinishAnimation&&eval(this.animationFrames.expandFinishAnimation())}),Enabler.addEventListener(studio.events.StudioEvent.COLLAPSE_START,function(){this.animationFrames.collapseStartAnimation&&eval(this.animationFrames.collapseStartAnimation()),Enabler.finishCollapse()}),Enabler.addEventListener(studio.events.StudioEvent.COLLAPSE_FINISH,function(){this.animationFrames.collapseFinishAnimation&&eval(this.animationFrames.collapseFinishAnimation())}),document.getElementsByTagName("body")[0].className=Enabler.getOrientation().getMode(),Enabler.addEventListener(studio.events.StudioEvent.ORIENTATION,function(){document.getElementsByTagName("body")[0].className=Enabler.getOrientation().getMode()}))},functionsWhenInit:function(a){a.addListeners()},functionsWhenPageLoaded:function(a){Enabler.isVisible()?a.executeAnimations():Enabler.addEventListener(studio.events.StudioEvent.VISIBLE,function(){a.executeAnimations()})},addListeners:function(){for(var i=0;i<this.elementsToRegister.length;i++){var elementToAdd,functionToDO=this.elementsToRegister[i].functionToCall,functionEval=eval(functionToDO);if("."==this.elementsToRegister[i].element.charAt(0)){elementToAdd=document.querySelectorAll(this.elementsToRegister[i].element);for(var k=0;k<elementToAdd.length;k++)elementToAdd[k].addEventListener(this.elementsToRegister[i].eventType,functionEval,!1)}else elementToAdd=document.querySelector(this.elementsToRegister[i].element),elementToAdd.addEventListener(this.elementsToRegister[i].eventType,functionEval,!1)}if(1==this.expand){if(0!=this.hotspotExpand.length){var eventType=this.hotspotExpand[1]||"click";document.querySelector(this.hotspotExpand[0]).addEventListener(eventType,this.expandEvent,!1)}else alert("Please add the hotspotExpand");if("in-app"!=this.type)if(0!=this.hotspotClose.length){var eventType=this.hotspotExpand[1]||"click";document.querySelector(this.hotspotClose[0]).addEventListener(eventType,this.collapseEvent,!1)}else alert("Please add the hotspotClose")}},registerTimelines:function(callback){for(var i=0;i<this.timelinesName.length;i++)eval(this.timelinesName[i]+"= new TimelineMax()"),this.timelinesArray.push(eval(this.timelinesName[i]));this.timelinesToregister();for(var i=0;i<this.timelinesName.length;i++)this.timelinesArray[i].pause()},executeAnimations:function(){this.animationFrames[0]()},collapseEvent:function(){Enabler.reportManualClose(),Enabler.requestCollapse()},expandEvent:function(){Enabler.requestExpand()},resetWhenCloseOrExit:function(){TweenMax.set(".banner > div",{clearProps:"all"}),TweenMax.set(".banner > span",{clearProps:"all"}),TweenMax.set(".banner > p",{clearProps:"all"}),TweenMax.set(".banner > h1",{clearProps:"all"}),TweenMax.set(".banner > h2",{clearProps:"all"}),TweenMax.set(".banner > h3",{clearProps:"all"}),TweenMax.set(".banner > h4",{clearProps:"all"}),TweenMax.set(".banner > a",{clearProps:"all"}),TweenMax.set(".banner > input",{clearProps:"all"}),TweenMax.set(".banner > canvas",{clearProps:"all"});for(var a=0;a<timelinesArray.length;a++)this.timelinesArray[a].seek(0).pause();this.executeAnimations()}},window.Banner=Banner}(window);